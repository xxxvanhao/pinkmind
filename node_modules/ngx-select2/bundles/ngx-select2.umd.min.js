!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@angular/forms")):"function"==typeof define&&define.amd?define("ngx-select2",["exports","@angular/common","@angular/core","@angular/forms"],t):t(e["ngx-select2"]={},e.ng.common,e.ng.core,e.ng.forms)}(this,function(e,t,n,r){"use strict";var o=function(){function e(e){this._renderer=e,this.options={},this.required=!1,this.maxCount=Number.MAX_SAFE_INTEGER,this.minCount=Number.MIN_SAFE_INTEGER,this.valueChange=new n.EventEmitter,this._onChange=function(e){},this._onTouched=function(){}}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var a=this;this._jqueryElement=$(this.selectControll.nativeElement),this.initSelect2(),this._jqueryElement.on("select2:select select2:unselect",function(e){var t,n,r=a._jqueryElement.select2("data");try{for(var o=function l(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(r),i=o.next();!i.done;i=o.next()){var s=i.value;delete s.element,delete s.disabled,delete s.selected}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(t)throw t.error}}a.options.multiple||(r="select2:unselect"==e.type?null:r[0]),a.selectedValue=r,a._onChange(r),a.valueChange.emit(r)}),this.selectedValue&&this.setSelect2Value(this.selectedValue)},e.prototype.ngOnChanges=function(e){this._jqueryElement&&this.hasChanged(e)&&(this.initSelect2(),this.selectedValue&&this.setSelect2Value(this.selectedValue))},e.prototype.ngOnDestroy=function(){this._jqueryElement.select2("destroy")},e.prototype.writeValue=function(e){null!==(this.selectedValue=e)&&e!==undefined&&this.setSelect2Value(e)},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.validate=function(e){if(this.disabled)return null;var t=this.selectedValue?this.selectedValue.length:0;return!0===this.required&&0===t?{required:!0}:0<this.minCount&&t<this.minCount?{minCount:!0}:0<this.maxCount&&t>this.maxCount?{maxCount:!0}:null},e.prototype.initSelect2=function(){1==this._jqueryElement.hasClass("select2-hidden-accessible")&&(this._jqueryElement.select2("destroy"),this._renderer.setElementProperty(this.selectControll.nativeElement,"innerHTML",""));var e={data:this.data};Object.assign(e,this.options),this._jqueryElement.select2(e)},e.prototype.setSelect2Value=function(e){if(this._jqueryElement&&e){var t=e.id||e;Array.isArray(e)&&(t=e.map(function(e){return e.id})),this._jqueryElement.val(t).trigger("change")}else this.selectedValue=e},e.prototype.hasChanged=function(e){return!(!e.data||JSON.stringify(e.data.previousValue)===JSON.stringify(e.data.currentValue))||!(!e.options||JSON.stringify(e.options.previousValue)===JSON.stringify(e.options.currentValue))},e.decorators=[{type:n.Component,args:[{selector:"l-select2",template:'<select #selectControll [disabled]="disabled" style="width: 100%">\r\n  <ng-content select="option, optgroup">\r\n  </ng-content>\r\n</select>',providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:n.forwardRef(function(){return e}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:n.forwardRef(function(){return e}),multi:!0}]}]}],e.ctorParameters=function(){return[{type:n.Renderer}]},e.propDecorators={selectControll:[{type:n.ViewChild,args:["selectControll"]}],data:[{type:n.Input}],disabled:[{type:n.Input}],options:[{type:n.Input}],required:[{type:n.Input}],maxCount:[{type:n.Input}],minCount:[{type:n.Input}],valueChange:[{type:n.Output}]},e}(),i=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[t.CommonModule,r.FormsModule],declarations:[o],exports:[o]}]}],e}();e.LSelect2Module=i,e.LSelect2Component=o,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-select2.umd.min.js.map